version: '3.6'
#networks:
#  net:
#    name: web3
services:

  vault:
    build:
      context: ./vault
      dockerfile: Dockerfile
    ports:
      - 8200:8200
    volumes:
      - ./vault/config:/vault/config
      - ./vault/policies:/vault/policies
      - ./vault/data:/vault/data
      - ./vault/logs:/vault/logs
    command: server -config=/vault/config/vault-config.hcl
    cap_add:
      - IPC_LOCK
#    networks:
#      - net
#  wallet-kme:
#    container_name: wallet-kms
#    image: walletkms
#    environment:
#      - CONFIG_FILE_PATH=/home/app.yaml
#      - VAULT_URL="http://127.0.0.1:8200"
#      - VAULT_TOKEN="hvs.6xYh1CwO2ekf1ZpjryumvqmQ"
#      - AUTH_TOKEN="49817601-81d6-4863-bc70-619211d35efd_dcd96173-bd93-46ff-8d3a-a98baeb4fa87"
#      - PROXY_URL="http://localhost:8888"
#      - ENDPOINT="https://polygon-mumbai-dev-node.krypcore.com/api/v0/rpc/49817601-81d6-4863-bc70-619211d35efd/c712bdee-c78f-4991-b77f-b1faea0f1502"
#      - WALLET_INSTANCE_ID="INS_WA_4_2023630"
#    volumes:
#      - ./app.yaml:/home/app.yaml
#    working_dir: /home
#    command: ./wallet-kms
#    ports:
#      - 0.0.0.0:8888:8888
